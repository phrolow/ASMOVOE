Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 1
border2.asm



      1	0000			     .model tiny
      2	0000			     .code
      3
      4				     locals @@
      5
      6				     org 100h
      7
      8	0100  BE 0080		     Start:  mov si, 80h
      9
     10	0103  AC			     lodsb
     11
     12	0104  32 FF			     xor bh, bh
     13	0106  8A D8			     mov bl, al			     ; bl is length of our string
     14
     15	0108  46			     inc si
     16	0109  AC			     lodsb
     17
     18	010A  2C 30			     sub al, '0'
     19	010C  3C 00			     cmp al, 0
     20
     21	010E  75 18			     jne ncbrd
     22
     23	0110  80 EB 09			     sub bl, 9			     ; length minus char of our	custom border
     24
     25	0113  BF 04D0r			     mov di, offset cbrd
     26
     27					     REPT 9
     28
     29					     lodsb
     30					     stosb
     31
     32					     ENDM
1    33
1    34	0116  AC			     lodsb
1    35	0117  AA			     stosb
1    36
1    37
1    38	0118  AC			     lodsb
1    39	0119  AA			     stosb
1    40
1    41
1    42	011A  AC			     lodsb
1    43	011B  AA			     stosb
1    44
1    45
1    46	011C  AC			     lodsb
1    47	011D  AA			     stosb
1    48
1    49
1    50	011E  AC			     lodsb
1    51	011F  AA			     stosb
1    52
1    53
1    54	0120  AC			     lodsb
1    55	0121  AA			     stosb
1    56
1    57
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 2
border2.asm



1    58	0122  AC			     lodsb
1    59	0123  AA			     stosb
1    60
1    61
1    62	0124  AC			     lodsb
1    63	0125  AA			     stosb
1    64
1    65
1    66	0126  AC			     lodsb
1    67	0127  AA			     stosb
1    68
     69
     70	0128  80 EB 01		     ncbrd:  sub bl, 1
     71
     72	012B  33 D2			     xor dx, dx			     ; wanna set height	and length
     73
     74	012D  8B C3			     mov ax, bx
     75	012F  B2 0A			     mov dl, 10			     ; 10 chars	in one line
     76
     77	0131  F6 F2			     div dl			     ; wanna know how many lines will be
     78	0133  B2 1E			     mov dl, 30
     79
     80	0135  8A F0			     mov dh, al
     81	0137  02 D2			     add dl, dl			     ; convert to vm px	(2 bytes)
     82
     83	0139  80 C6 05			     add dh, 5
     84
     85	013C  BF B800			     mov di, 0B800h
     86	013F  8E C7			     mov es, di
     87
     88	0141  BF 07D0			     mov di, 80	* 25
     89
     90	0144  33 C9			     xor cx, cx
     91	0146  8A CA			     mov cl, dl
     92
     93	0148  2B F9			     sub di, cx			     ; x of lt
     94
     95	014A  8A CE			     mov cl, dh
     96
     97					     REPT 160
     98
     99					     sub di, cx			     ; y of lt
    100
    101					     ENDM			     ; di to start
1   102
1   103	014C  2B F9			     sub di, cx			     ; y of lt
1   104
1   105
1   106	014E  2B F9			     sub di, cx			     ; y of lt
1   107
1   108
1   109	0150  2B F9			     sub di, cx			     ; y of lt
1   110
1   111
1   112	0152  2B F9			     sub di, cx			     ; y of lt
1   113
1   114
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 3
border2.asm



1   115	0154  2B F9			     sub di, cx			     ; y of lt
1   116
1   117
1   118	0156  2B F9			     sub di, cx			     ; y of lt
1   119
1   120
1   121	0158  2B F9			     sub di, cx			     ; y of lt
1   122
1   123
1   124	015A  2B F9			     sub di, cx			     ; y of lt
1   125
1   126
1   127	015C  2B F9			     sub di, cx			     ; y of lt
1   128
1   129
1   130	015E  2B F9			     sub di, cx			     ; y of lt
1   131
1   132
1   133	0160  2B F9			     sub di, cx			     ; y of lt
1   134
1   135
1   136	0162  2B F9			     sub di, cx			     ; y of lt
1   137
1   138
1   139	0164  2B F9			     sub di, cx			     ; y of lt
1   140
1   141
1   142	0166  2B F9			     sub di, cx			     ; y of lt
1   143
1   144
1   145	0168  2B F9			     sub di, cx			     ; y of lt
1   146
1   147
1   148	016A  2B F9			     sub di, cx			     ; y of lt
1   149
1   150
1   151	016C  2B F9			     sub di, cx			     ; y of lt
1   152
1   153
1   154	016E  2B F9			     sub di, cx			     ; y of lt
1   155
1   156
1   157	0170  2B F9			     sub di, cx			     ; y of lt
1   158
1   159
1   160	0172  2B F9			     sub di, cx			     ; y of lt
1   161
1   162
1   163	0174  2B F9			     sub di, cx			     ; y of lt
1   164
1   165
1   166	0176  2B F9			     sub di, cx			     ; y of lt
1   167
1   168
1   169	0178  2B F9			     sub di, cx			     ; y of lt
1   170
1   171
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 4
border2.asm



1   172	017A  2B F9			     sub di, cx			     ; y of lt
1   173
1   174
1   175	017C  2B F9			     sub di, cx			     ; y of lt
1   176
1   177
1   178	017E  2B F9			     sub di, cx			     ; y of lt
1   179
1   180
1   181	0180  2B F9			     sub di, cx			     ; y of lt
1   182
1   183
1   184	0182  2B F9			     sub di, cx			     ; y of lt
1   185
1   186
1   187	0184  2B F9			     sub di, cx			     ; y of lt
1   188
1   189
1   190	0186  2B F9			     sub di, cx			     ; y of lt
1   191
1   192
1   193	0188  2B F9			     sub di, cx			     ; y of lt
1   194
1   195
1   196	018A  2B F9			     sub di, cx			     ; y of lt
1   197
1   198
1   199	018C  2B F9			     sub di, cx			     ; y of lt
1   200
1   201
1   202	018E  2B F9			     sub di, cx			     ; y of lt
1   203
1   204
1   205	0190  2B F9			     sub di, cx			     ; y of lt
1   206
1   207
1   208	0192  2B F9			     sub di, cx			     ; y of lt
1   209
1   210
1   211	0194  2B F9			     sub di, cx			     ; y of lt
1   212
1   213
1   214	0196  2B F9			     sub di, cx			     ; y of lt
1   215
1   216
1   217	0198  2B F9			     sub di, cx			     ; y of lt
1   218
1   219
1   220	019A  2B F9			     sub di, cx			     ; y of lt
1   221
1   222
1   223	019C  2B F9			     sub di, cx			     ; y of lt
1   224
1   225
1   226	019E  2B F9			     sub di, cx			     ; y of lt
1   227
1   228
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 5
border2.asm



1   229	01A0  2B F9			     sub di, cx			     ; y of lt
1   230
1   231
1   232	01A2  2B F9			     sub di, cx			     ; y of lt
1   233
1   234
1   235	01A4  2B F9			     sub di, cx			     ; y of lt
1   236
1   237
1   238	01A6  2B F9			     sub di, cx			     ; y of lt
1   239
1   240
1   241	01A8  2B F9			     sub di, cx			     ; y of lt
1   242
1   243
1   244	01AA  2B F9			     sub di, cx			     ; y of lt
1   245
1   246
1   247	01AC  2B F9			     sub di, cx			     ; y of lt
1   248
1   249
1   250	01AE  2B F9			     sub di, cx			     ; y of lt
1   251
1   252
1   253	01B0  2B F9			     sub di, cx			     ; y of lt
1   254
1   255
1   256	01B2  2B F9			     sub di, cx			     ; y of lt
1   257
1   258
1   259	01B4  2B F9			     sub di, cx			     ; y of lt
1   260
1   261
1   262	01B6  2B F9			     sub di, cx			     ; y of lt
1   263
1   264
1   265	01B8  2B F9			     sub di, cx			     ; y of lt
1   266
1   267
1   268	01BA  2B F9			     sub di, cx			     ; y of lt
1   269
1   270
1   271	01BC  2B F9			     sub di, cx			     ; y of lt
1   272
1   273
1   274	01BE  2B F9			     sub di, cx			     ; y of lt
1   275
1   276
1   277	01C0  2B F9			     sub di, cx			     ; y of lt
1   278
1   279
1   280	01C2  2B F9			     sub di, cx			     ; y of lt
1   281
1   282
1   283	01C4  2B F9			     sub di, cx			     ; y of lt
1   284
1   285
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 6
border2.asm



1   286	01C6  2B F9			     sub di, cx			     ; y of lt
1   287
1   288
1   289	01C8  2B F9			     sub di, cx			     ; y of lt
1   290
1   291
1   292	01CA  2B F9			     sub di, cx			     ; y of lt
1   293
1   294
1   295	01CC  2B F9			     sub di, cx			     ; y of lt
1   296
1   297
1   298	01CE  2B F9			     sub di, cx			     ; y of lt
1   299
1   300
1   301	01D0  2B F9			     sub di, cx			     ; y of lt
1   302
1   303
1   304	01D2  2B F9			     sub di, cx			     ; y of lt
1   305
1   306
1   307	01D4  2B F9			     sub di, cx			     ; y of lt
1   308
1   309
1   310	01D6  2B F9			     sub di, cx			     ; y of lt
1   311
1   312
1   313	01D8  2B F9			     sub di, cx			     ; y of lt
1   314
1   315
1   316	01DA  2B F9			     sub di, cx			     ; y of lt
1   317
1   318
1   319	01DC  2B F9			     sub di, cx			     ; y of lt
1   320
1   321
1   322	01DE  2B F9			     sub di, cx			     ; y of lt
1   323
1   324
1   325	01E0  2B F9			     sub di, cx			     ; y of lt
1   326
1   327
1   328	01E2  2B F9			     sub di, cx			     ; y of lt
1   329
1   330
1   331	01E4  2B F9			     sub di, cx			     ; y of lt
1   332
1   333
1   334	01E6  2B F9			     sub di, cx			     ; y of lt
1   335
1   336
1   337	01E8  2B F9			     sub di, cx			     ; y of lt
1   338
1   339
1   340	01EA  2B F9			     sub di, cx			     ; y of lt
1   341
1   342
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 7
border2.asm



1   343	01EC  2B F9			     sub di, cx			     ; y of lt
1   344
1   345
1   346	01EE  2B F9			     sub di, cx			     ; y of lt
1   347
1   348
1   349	01F0  2B F9			     sub di, cx			     ; y of lt
1   350
1   351
1   352	01F2  2B F9			     sub di, cx			     ; y of lt
1   353
1   354
1   355	01F4  2B F9			     sub di, cx			     ; y of lt
1   356
1   357
1   358	01F6  2B F9			     sub di, cx			     ; y of lt
1   359
1   360
1   361	01F8  2B F9			     sub di, cx			     ; y of lt
1   362
1   363
1   364	01FA  2B F9			     sub di, cx			     ; y of lt
1   365
1   366
1   367	01FC  2B F9			     sub di, cx			     ; y of lt
1   368
1   369
1   370	01FE  2B F9			     sub di, cx			     ; y of lt
1   371
1   372
1   373	0200  2B F9			     sub di, cx			     ; y of lt
1   374
1   375
1   376	0202  2B F9			     sub di, cx			     ; y of lt
1   377
1   378
1   379	0204  2B F9			     sub di, cx			     ; y of lt
1   380
1   381
1   382	0206  2B F9			     sub di, cx			     ; y of lt
1   383
1   384
1   385	0208  2B F9			     sub di, cx			     ; y of lt
1   386
1   387
1   388	020A  2B F9			     sub di, cx			     ; y of lt
1   389
1   390
1   391	020C  2B F9			     sub di, cx			     ; y of lt
1   392
1   393
1   394	020E  2B F9			     sub di, cx			     ; y of lt
1   395
1   396
1   397	0210  2B F9			     sub di, cx			     ; y of lt
1   398
1   399
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 8
border2.asm



1   400	0212  2B F9			     sub di, cx			     ; y of lt
1   401
1   402
1   403	0214  2B F9			     sub di, cx			     ; y of lt
1   404
1   405
1   406	0216  2B F9			     sub di, cx			     ; y of lt
1   407
1   408
1   409	0218  2B F9			     sub di, cx			     ; y of lt
1   410
1   411
1   412	021A  2B F9			     sub di, cx			     ; y of lt
1   413
1   414
1   415	021C  2B F9			     sub di, cx			     ; y of lt
1   416
1   417
1   418	021E  2B F9			     sub di, cx			     ; y of lt
1   419
1   420
1   421	0220  2B F9			     sub di, cx			     ; y of lt
1   422
1   423
1   424	0222  2B F9			     sub di, cx			     ; y of lt
1   425
1   426
1   427	0224  2B F9			     sub di, cx			     ; y of lt
1   428
1   429
1   430	0226  2B F9			     sub di, cx			     ; y of lt
1   431
1   432
1   433	0228  2B F9			     sub di, cx			     ; y of lt
1   434
1   435
1   436	022A  2B F9			     sub di, cx			     ; y of lt
1   437
1   438
1   439	022C  2B F9			     sub di, cx			     ; y of lt
1   440
1   441
1   442	022E  2B F9			     sub di, cx			     ; y of lt
1   443
1   444
1   445	0230  2B F9			     sub di, cx			     ; y of lt
1   446
1   447
1   448	0232  2B F9			     sub di, cx			     ; y of lt
1   449
1   450
1   451	0234  2B F9			     sub di, cx			     ; y of lt
1   452
1   453
1   454	0236  2B F9			     sub di, cx			     ; y of lt
1   455
1   456
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 9
border2.asm



1   457	0238  2B F9			     sub di, cx			     ; y of lt
1   458
1   459
1   460	023A  2B F9			     sub di, cx			     ; y of lt
1   461
1   462
1   463	023C  2B F9			     sub di, cx			     ; y of lt
1   464
1   465
1   466	023E  2B F9			     sub di, cx			     ; y of lt
1   467
1   468
1   469	0240  2B F9			     sub di, cx			     ; y of lt
1   470
1   471
1   472	0242  2B F9			     sub di, cx			     ; y of lt
1   473
1   474
1   475	0244  2B F9			     sub di, cx			     ; y of lt
1   476
1   477
1   478	0246  2B F9			     sub di, cx			     ; y of lt
1   479
1   480
1   481	0248  2B F9			     sub di, cx			     ; y of lt
1   482
1   483
1   484	024A  2B F9			     sub di, cx			     ; y of lt
1   485
1   486
1   487	024C  2B F9			     sub di, cx			     ; y of lt
1   488
1   489
1   490	024E  2B F9			     sub di, cx			     ; y of lt
1   491
1   492
1   493	0250  2B F9			     sub di, cx			     ; y of lt
1   494
1   495
1   496	0252  2B F9			     sub di, cx			     ; y of lt
1   497
1   498
1   499	0254  2B F9			     sub di, cx			     ; y of lt
1   500
1   501
1   502	0256  2B F9			     sub di, cx			     ; y of lt
1   503
1   504
1   505	0258  2B F9			     sub di, cx			     ; y of lt
1   506
1   507
1   508	025A  2B F9			     sub di, cx			     ; y of lt
1   509
1   510
1   511	025C  2B F9			     sub di, cx			     ; y of lt
1   512
1   513
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 10
border2.asm



1   514	025E  2B F9			     sub di, cx			     ; y of lt
1   515
1   516
1   517	0260  2B F9			     sub di, cx			     ; y of lt
1   518
1   519
1   520	0262  2B F9			     sub di, cx			     ; y of lt
1   521
1   522
1   523	0264  2B F9			     sub di, cx			     ; y of lt
1   524
1   525
1   526	0266  2B F9			     sub di, cx			     ; y of lt
1   527
1   528
1   529	0268  2B F9			     sub di, cx			     ; y of lt
1   530
1   531
1   532	026A  2B F9			     sub di, cx			     ; y of lt
1   533
1   534
1   535	026C  2B F9			     sub di, cx			     ; y of lt
1   536
1   537
1   538	026E  2B F9			     sub di, cx			     ; y of lt
1   539
1   540
1   541	0270  2B F9			     sub di, cx			     ; y of lt
1   542
1   543
1   544	0272  2B F9			     sub di, cx			     ; y of lt
1   545
1   546
1   547	0274  2B F9			     sub di, cx			     ; y of lt
1   548
1   549
1   550	0276  2B F9			     sub di, cx			     ; y of lt
1   551
1   552
1   553	0278  2B F9			     sub di, cx			     ; y of lt
1   554
1   555
1   556	027A  2B F9			     sub di, cx			     ; y of lt
1   557
1   558
1   559	027C  2B F9			     sub di, cx			     ; y of lt
1   560
1   561
1   562	027E  2B F9			     sub di, cx			     ; y of lt
1   563
1   564
1   565	0280  2B F9			     sub di, cx			     ; y of lt
1   566
1   567
1   568	0282  2B F9			     sub di, cx			     ; y of lt
1   569
1   570
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 11
border2.asm



1   571	0284  2B F9			     sub di, cx			     ; y of lt
1   572
1   573
1   574	0286  2B F9			     sub di, cx			     ; y of lt
1   575
1   576
1   577	0288  2B F9			     sub di, cx			     ; y of lt
1   578
1   579
1   580	028A  2B F9			     sub di, cx			     ; y of lt
1   581
    582
    583	028C  80 C6 05			     add dh, 5
    584
    585	028F  B4 1E			     mov ah, 01Eh		     ; 24 Feb......
    586
    587	0291  BE 0082			     mov si, 82h
    588
    589	0294  8A 0C			     mov cl, byte ptr [si]
    590	0296  80 E9 30			     sub cl, '0'
    591	0299  32 ED			     xor ch, ch			     ; cl is type
    592
    593	029B  BE 04D0r			     mov si, offset cbrd
    594
    595	029E  80 F9 00			     cmp cl, 0
    596	02A1  74 05			     je	custom
    597
    598	02A3  83 C6 09		     @@next: add si, 9
    599	02A6  E2 FB			     loop @@next
    600
    601	02A8			     custom:
    602
    603	02A8  E8 002E			     call Border
    604
    605	02AB  BB 0080			     mov bx, word ptr 80h
    606	02AE  8A 1F			     mov bl, [bx]
    607	02B0  32 FF			     xor bh, bh
    608
    609	02B2  BE 0082			     mov si, 82h
    610
    611	02B5  80 3C 30			     cmp byte ptr [si],	byte ptr '0'
    612	02B8  75 06			     jne not_custom
    613
    614	02BA  83 C6 09			     add si, 9
    615	02BD  80 EB 09			     sub bl, 9
    616
    617	02C0			     not_custom:
    618
    619	02C0  46			     inc si
    620	02C1  FE CB			     dec bl
    621	02C3  FE CB			     dec bl
    622
    623	02C5  32 E4			     xor ah, ah
    624	02C7  8A C3			     mov al, bl
    625
    626	02C9  B2 0A			     mov dl, 10
    627	02CB  F6 F2			     div dl
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 12
border2.asm



    628
    629	02CD  8A D4			     mov dl, ah
    630	02CF  8A F0			     mov dh, al
    631
    632	02D1  E8 0063			     call Text
    633
    634	02D4  B8 4C00			     mov ax, 4C00h
    635	02D7  CD 21			     int 21h
    636
    637					     include bordre.asi
1   638				     ;
1   639				     ; args - ah, di, dl, si
1   640				     ; ah - attribute
1   641				     ; di - start
1   642				     ; dl - width
1   643				     ; si - border source
1   644				     ; dh - height
1   645				     ; destroys	- dohuya
1   646				     ;
1   647
1   648	02D9			     Border  proc
1   649	02D9  55			     push bp
1   650
1   651	02DA  E8 0045			     call String
1   652
1   653	02DD  81 C7 00A0		     add di, 80	* 2
1   654
1   655	02E1  32 FF			     xor bh, bh		     ; cringe
1   656	02E3  8A DA			     mov bl, dl
1   657
1   658	02E5  2B FB			     sub di, bx
1   659	02E7  2B FB			     sub di, bx
1   660
1   661	02E9  8B EA			     mov bp, dx
1   662	02EB  81 E5 FF00		     and bp, 0FF00h
1   663	02EF  D1 ED D1 ED D1 ED	D1+	     shr bp, 8
    664	      ED D1 ED D1 ED D1	ED+
    665	      D1 ED
1   666	02FF  83 ED 02			     sub bp, 2
1   667
1   668	0302  E8 001D		     zaloop: call String
1   669
1   670	0305  83 EE 03			     sub si, 3
1   671
1   672	0308  81 C7 00A0		     add di, 80	* 2
1   673
1   674	030C  32 FF			     xor bh, bh		     ; cringe
1   675	030E  8A DA			     mov bl, dl
1   676
1   677	0310  2B FB			     sub di, bx
1   678	0312  2B FB			     sub di, bx
1   679
1   680	0314  4D			     dec bp
1   681
1   682	0315  83 FD 00			     cmp bp, 0
1   683	0318  75 E8			     jne zaloop
1   684
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 13
border2.asm



1   685	031A  83 C6 03			     add si, 3
1   686
1   687	031D  E8 0002			     call String
1   688
1   689	0320  5D			     pop bp
1   690	0321  C3			     ret
1   691	0322				     endp
1   692
1   693					     include string.asi
2   694				     ;
2   695				     ; args - ah, di, dl
2   696				     ; ah - attribute
2   697				     ; di - start
2   698				     ; dl - length
2   699				     ; destroys	- si, cx
2   700				     ;
2   701
2   702	0322			     String  proc
2   703
2   704	0322  AC			     lodsb
2   705	0323  AB			     stosw
2   706
2   707	0324  AC			     lodsb
2   708
2   709	0325  8A CA			     mov cl, dl
2   710	0327  80 E9 02			     sub cl, 2
2   711	032A  32 ED			     xor ch, ch
2   712
2   713	032C  26: 89 05		     @@Next: mov es:[di], ax
2   714
2   715	032F  83 C7 02			     add di, 2
2   716
2   717	0332  E2 F8			     loop @@Next
2   718
2   719	0334  AC			     lodsb
2   720	0335  AB			     stosw
2   721
2   722	0336  C3			     ret
2   723	0337				     endp
    724					     include text.asi
1   725	0337			     Text    proc
1   726
1   727	0337  BF 07D0			     mov di, 80	* 25
1   728
1   729	033A  8B C2			     mov ax, dx
1   730	033C  32 E4			     xor ah, ah			     ; dl в общ
1   731
1   732	033E  80 FE 00			     cmp dh, 0
1   733	0341  75 03			     jne not_smol_txt1		     ; концептуально - сначала идет +
    734				     распечатка "больших" строк, а потом маленькой; ну и    +
    735				     здесь	джамп сразу к распечатке маленькой; важно не   +
    736				     проебать dl
1   737
1   738	0343  E9 0171			     jmp smol_txt
1   739
1   740	0346			     not_smol_txt1:
1   741
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 14
border2.asm



1   742	0346  32 E4			     xor ah, ah
1   743	0348  8A C6			     mov al, dh
1   744
1   745					     REPT 160
1   746
1   747					     sub di, ax
1   748
1   749					     ENDM
2   750
2   751	034A  2B F8			     sub di, ax
2   752
2   753
2   754	034C  2B F8			     sub di, ax
2   755
2   756
2   757	034E  2B F8			     sub di, ax
2   758
2   759
2   760	0350  2B F8			     sub di, ax
2   761
2   762
2   763	0352  2B F8			     sub di, ax
2   764
2   765
2   766	0354  2B F8			     sub di, ax
2   767
2   768
2   769	0356  2B F8			     sub di, ax
2   770
2   771
2   772	0358  2B F8			     sub di, ax
2   773
2   774
2   775	035A  2B F8			     sub di, ax
2   776
2   777
2   778	035C  2B F8			     sub di, ax
2   779
2   780
2   781	035E  2B F8			     sub di, ax
2   782
2   783
2   784	0360  2B F8			     sub di, ax
2   785
2   786
2   787	0362  2B F8			     sub di, ax
2   788
2   789
2   790	0364  2B F8			     sub di, ax
2   791
2   792
2   793	0366  2B F8			     sub di, ax
2   794
2   795
2   796	0368  2B F8			     sub di, ax
2   797
2   798
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 15
border2.asm



2   799	036A  2B F8			     sub di, ax
2   800
2   801
2   802	036C  2B F8			     sub di, ax
2   803
2   804
2   805	036E  2B F8			     sub di, ax
2   806
2   807
2   808	0370  2B F8			     sub di, ax
2   809
2   810
2   811	0372  2B F8			     sub di, ax
2   812
2   813
2   814	0374  2B F8			     sub di, ax
2   815
2   816
2   817	0376  2B F8			     sub di, ax
2   818
2   819
2   820	0378  2B F8			     sub di, ax
2   821
2   822
2   823	037A  2B F8			     sub di, ax
2   824
2   825
2   826	037C  2B F8			     sub di, ax
2   827
2   828
2   829	037E  2B F8			     sub di, ax
2   830
2   831
2   832	0380  2B F8			     sub di, ax
2   833
2   834
2   835	0382  2B F8			     sub di, ax
2   836
2   837
2   838	0384  2B F8			     sub di, ax
2   839
2   840
2   841	0386  2B F8			     sub di, ax
2   842
2   843
2   844	0388  2B F8			     sub di, ax
2   845
2   846
2   847	038A  2B F8			     sub di, ax
2   848
2   849
2   850	038C  2B F8			     sub di, ax
2   851
2   852
2   853	038E  2B F8			     sub di, ax
2   854
2   855
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 16
border2.asm



2   856	0390  2B F8			     sub di, ax
2   857
2   858
2   859	0392  2B F8			     sub di, ax
2   860
2   861
2   862	0394  2B F8			     sub di, ax
2   863
2   864
2   865	0396  2B F8			     sub di, ax
2   866
2   867
2   868	0398  2B F8			     sub di, ax
2   869
2   870
2   871	039A  2B F8			     sub di, ax
2   872
2   873
2   874	039C  2B F8			     sub di, ax
2   875
2   876
2   877	039E  2B F8			     sub di, ax
2   878
2   879
2   880	03A0  2B F8			     sub di, ax
2   881
2   882
2   883	03A2  2B F8			     sub di, ax
2   884
2   885
2   886	03A4  2B F8			     sub di, ax
2   887
2   888
2   889	03A6  2B F8			     sub di, ax
2   890
2   891
2   892	03A8  2B F8			     sub di, ax
2   893
2   894
2   895	03AA  2B F8			     sub di, ax
2   896
2   897
2   898	03AC  2B F8			     sub di, ax
2   899
2   900
2   901	03AE  2B F8			     sub di, ax
2   902
2   903
2   904	03B0  2B F8			     sub di, ax
2   905
2   906
2   907	03B2  2B F8			     sub di, ax
2   908
2   909
2   910	03B4  2B F8			     sub di, ax
2   911
2   912
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 17
border2.asm



2   913	03B6  2B F8			     sub di, ax
2   914
2   915
2   916	03B8  2B F8			     sub di, ax
2   917
2   918
2   919	03BA  2B F8			     sub di, ax
2   920
2   921
2   922	03BC  2B F8			     sub di, ax
2   923
2   924
2   925	03BE  2B F8			     sub di, ax
2   926
2   927
2   928	03C0  2B F8			     sub di, ax
2   929
2   930
2   931	03C2  2B F8			     sub di, ax
2   932
2   933
2   934	03C4  2B F8			     sub di, ax
2   935
2   936
2   937	03C6  2B F8			     sub di, ax
2   938
2   939
2   940	03C8  2B F8			     sub di, ax
2   941
2   942
2   943	03CA  2B F8			     sub di, ax
2   944
2   945
2   946	03CC  2B F8			     sub di, ax
2   947
2   948
2   949	03CE  2B F8			     sub di, ax
2   950
2   951
2   952	03D0  2B F8			     sub di, ax
2   953
2   954
2   955	03D2  2B F8			     sub di, ax
2   956
2   957
2   958	03D4  2B F8			     sub di, ax
2   959
2   960
2   961	03D6  2B F8			     sub di, ax
2   962
2   963
2   964	03D8  2B F8			     sub di, ax
2   965
2   966
2   967	03DA  2B F8			     sub di, ax
2   968
2   969
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 18
border2.asm



2   970	03DC  2B F8			     sub di, ax
2   971
2   972
2   973	03DE  2B F8			     sub di, ax
2   974
2   975
2   976	03E0  2B F8			     sub di, ax
2   977
2   978
2   979	03E2  2B F8			     sub di, ax
2   980
2   981
2   982	03E4  2B F8			     sub di, ax
2   983
2   984
2   985	03E6  2B F8			     sub di, ax
2   986
2   987
2   988	03E8  2B F8			     sub di, ax
2   989
2   990
2   991	03EA  2B F8			     sub di, ax
2   992
2   993
2   994	03EC  2B F8			     sub di, ax
2   995
2   996
2   997	03EE  2B F8			     sub di, ax
2   998
2   999
2  1000	03F0  2B F8			     sub di, ax
2  1001
2  1002
2  1003	03F2  2B F8			     sub di, ax
2  1004
2  1005
2  1006	03F4  2B F8			     sub di, ax
2  1007
2  1008
2  1009	03F6  2B F8			     sub di, ax
2  1010
2  1011
2  1012	03F8  2B F8			     sub di, ax
2  1013
2  1014
2  1015	03FA  2B F8			     sub di, ax
2  1016
2  1017
2  1018	03FC  2B F8			     sub di, ax
2  1019
2  1020
2  1021	03FE  2B F8			     sub di, ax
2  1022
2  1023
2  1024	0400  2B F8			     sub di, ax
2  1025
2  1026
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 19
border2.asm



2  1027	0402  2B F8			     sub di, ax
2  1028
2  1029
2  1030	0404  2B F8			     sub di, ax
2  1031
2  1032
2  1033	0406  2B F8			     sub di, ax
2  1034
2  1035
2  1036	0408  2B F8			     sub di, ax
2  1037
2  1038
2  1039	040A  2B F8			     sub di, ax
2  1040
2  1041
2  1042	040C  2B F8			     sub di, ax
2  1043
2  1044
2  1045	040E  2B F8			     sub di, ax
2  1046
2  1047
2  1048	0410  2B F8			     sub di, ax
2  1049
2  1050
2  1051	0412  2B F8			     sub di, ax
2  1052
2  1053
2  1054	0414  2B F8			     sub di, ax
2  1055
2  1056
2  1057	0416  2B F8			     sub di, ax
2  1058
2  1059
2  1060	0418  2B F8			     sub di, ax
2  1061
2  1062
2  1063	041A  2B F8			     sub di, ax
2  1064
2  1065
2  1066	041C  2B F8			     sub di, ax
2  1067
2  1068
2  1069	041E  2B F8			     sub di, ax
2  1070
2  1071
2  1072	0420  2B F8			     sub di, ax
2  1073
2  1074
2  1075	0422  2B F8			     sub di, ax
2  1076
2  1077
2  1078	0424  2B F8			     sub di, ax
2  1079
2  1080
2  1081	0426  2B F8			     sub di, ax
2  1082
2  1083
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 20
border2.asm



2  1084	0428  2B F8			     sub di, ax
2  1085
2  1086
2  1087	042A  2B F8			     sub di, ax
2  1088
2  1089
2  1090	042C  2B F8			     sub di, ax
2  1091
2  1092
2  1093	042E  2B F8			     sub di, ax
2  1094
2  1095
2  1096	0430  2B F8			     sub di, ax
2  1097
2  1098
2  1099	0432  2B F8			     sub di, ax
2  1100
2  1101
2  1102	0434  2B F8			     sub di, ax
2  1103
2  1104
2  1105	0436  2B F8			     sub di, ax
2  1106
2  1107
2  1108	0438  2B F8			     sub di, ax
2  1109
2  1110
2  1111	043A  2B F8			     sub di, ax
2  1112
2  1113
2  1114	043C  2B F8			     sub di, ax
2  1115
2  1116
2  1117	043E  2B F8			     sub di, ax
2  1118
2  1119
2  1120	0440  2B F8			     sub di, ax
2  1121
2  1122
2  1123	0442  2B F8			     sub di, ax
2  1124
2  1125
2  1126	0444  2B F8			     sub di, ax
2  1127
2  1128
2  1129	0446  2B F8			     sub di, ax
2  1130
2  1131
2  1132	0448  2B F8			     sub di, ax
2  1133
2  1134
2  1135	044A  2B F8			     sub di, ax
2  1136
2  1137
2  1138	044C  2B F8			     sub di, ax
2  1139
2  1140
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 21
border2.asm



2  1141	044E  2B F8			     sub di, ax
2  1142
2  1143
2  1144	0450  2B F8			     sub di, ax
2  1145
2  1146
2  1147	0452  2B F8			     sub di, ax
2  1148
2  1149
2  1150	0454  2B F8			     sub di, ax
2  1151
2  1152
2  1153	0456  2B F8			     sub di, ax
2  1154
2  1155
2  1156	0458  2B F8			     sub di, ax
2  1157
2  1158
2  1159	045A  2B F8			     sub di, ax
2  1160
2  1161
2  1162	045C  2B F8			     sub di, ax
2  1163
2  1164
2  1165	045E  2B F8			     sub di, ax
2  1166
2  1167
2  1168	0460  2B F8			     sub di, ax
2  1169
2  1170
2  1171	0462  2B F8			     sub di, ax
2  1172
2  1173
2  1174	0464  2B F8			     sub di, ax
2  1175
2  1176
2  1177	0466  2B F8			     sub di, ax
2  1178
2  1179
2  1180	0468  2B F8			     sub di, ax
2  1181
2  1182
2  1183	046A  2B F8			     sub di, ax
2  1184
2  1185
2  1186	046C  2B F8			     sub di, ax
2  1187
2  1188
2  1189	046E  2B F8			     sub di, ax
2  1190
2  1191
2  1192	0470  2B F8			     sub di, ax
2  1193
2  1194
2  1195	0472  2B F8			     sub di, ax
2  1196
2  1197
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 22
border2.asm



2  1198	0474  2B F8			     sub di, ax
2  1199
2  1200
2  1201	0476  2B F8			     sub di, ax
2  1202
2  1203
2  1204	0478  2B F8			     sub di, ax
2  1205
2  1206
2  1207	047A  2B F8			     sub di, ax
2  1208
2  1209
2  1210	047C  2B F8			     sub di, ax
2  1211
2  1212
2  1213	047E  2B F8			     sub di, ax
2  1214
2  1215
2  1216	0480  2B F8			     sub di, ax
2  1217
2  1218
2  1219	0482  2B F8			     sub di, ax
2  1220
2  1221
2  1222	0484  2B F8			     sub di, ax
2  1223
2  1224
2  1225	0486  2B F8			     sub di, ax
2  1226
2  1227
2  1228	0488  2B F8			     sub di, ax
2  1229
1  1230
1  1231	048A  8A CE			     mov cl, dh
1  1232	048C  32 ED			     xor ch, ch
1  1233
1  1234	048E			     @@Next:
1  1235	048E  80 F9 00			     cmp cl, 0
1  1236	0491  75 03			     jne not_smol_txt
1  1237
1  1238	0493  EB 22 90			     jmp smol_txt
1  1239
1  1240	0496			     not_smol_txt:
1  1241
1  1242	0496  83 EF 0A			     sub di, 5 * 2
1  1243
1  1244	0499  B4 1E			     mov ah, 1Eh
1  1245
1  1246					     REPT 10
1  1247
1  1248					     lodsb
1  1249					     stosw
1  1250
1  1251					     ENDM
2  1252
2  1253	049B  AC			     lodsb
2  1254	049C  AB			     stosw
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 23
border2.asm



2  1255
2  1256
2  1257	049D  AC			     lodsb
2  1258	049E  AB			     stosw
2  1259
2  1260
2  1261	049F  AC			     lodsb
2  1262	04A0  AB			     stosw
2  1263
2  1264
2  1265	04A1  AC			     lodsb
2  1266	04A2  AB			     stosw
2  1267
2  1268
2  1269	04A3  AC			     lodsb
2  1270	04A4  AB			     stosw
2  1271
2  1272
2  1273	04A5  AC			     lodsb
2  1274	04A6  AB			     stosw
2  1275
2  1276
2  1277	04A7  AC			     lodsb
2  1278	04A8  AB			     stosw
2  1279
2  1280
2  1281	04A9  AC			     lodsb
2  1282	04AA  AB			     stosw
2  1283
2  1284
2  1285	04AB  AC			     lodsb
2  1286	04AC  AB			     stosw
2  1287
2  1288
2  1289	04AD  AC			     lodsb
2  1290	04AE  AB			     stosw
2  1291
1  1292
1  1293	04AF  FE C9			     dec cl
1  1294	04B1  81 C7 0096		     add di, (80 - 5) *	2
1  1295
1  1296	04B5  EB D7			     jmp @@Next
1  1297
1  1298	04B7			     smol_txt:
1  1299	04B7  8A C2			     mov al, dl
1  1300	04B9  32 E4			     xor ah, ah
1  1301
1  1302	04BB  2B F8			     sub di, ax
1  1303
1  1304	04BD  8B CA			     mov cx, dx
1  1305	04BF  32 ED			     xor ch, ch
1  1306
1  1307	04C1  B4 1E			     mov ah, 1Eh
1  1308
1  1309	04C3  83 E7 FE			     and di, 0FFFEh		     ; need even di
1  1310
1  1311	04C6			     @@Next2:
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 24
border2.asm



1  1312	04C6  83 F9 00			     cmp cx, 0
1  1313	04C9  74 04			     je	@@ret			     ; cause loop incs cx
1  1314
1  1315	04CB  AC			     lodsb
1  1316	04CC  AB			     stosw
1  1317
1  1318
1  1319	04CD  E2 F7			     loop @@Next2
1  1320
1  1321	04CF  C3		     @@ret:  ret
1  1322	04D0				     endp
   1323
   1324	04D0  ?? ?? ?? ?? ?? ??	??+  cbrd    db	  ?,   ?,   ?,	 ?,   ?,   ?,	?,   ?,	  ?  ; custom border
   1325	      ?? ??
   1326	04D9  40 40 40 40 00 40	40+  brd1    db	40h, 40h, 40h, 40h, 00h, 40h, 40h, 40h,	40h
   1327	      40 40
   1328	04E2  80 80 80 80 00 80	80+  brd2    db	80h, 80h, 80h, 80h, 00h, 80h, 80h, 80h,	80h
   1329	      80 80
   1330	04EB  1E 1E 1E 1E 00 1E	1E+  brd3    db	1Eh, 1Eh, 1Eh, 1Eh, 00h, 1Eh, 1Eh, 1Eh,	1Eh
   1331	      1E 1E
   1332	04F4  40 40 40 40 00 40	40+  brd4    db	40h, 40h, 40h, 40h, 00h, 40h, 40h, 40h,	40h
   1333	      40 40
   1334	04FD  40 40 40 40 00 40	40+  brd5    db	40h, 40h, 40h, 40h, 00h, 40h, 40h, 40h,	40h
   1335	      40 40
   1336
   1337				     end     Start
Turbo Assembler	 Version 4.1	    03/02/23 25:18:38	    Page 25
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "03/02/23"
??FILENAME			  Text	 "border2 "
??TIME				  Text	 "25:18:38"
??VERSION			  Number 040A
@32BIT				  Text	 0
@@NEXT				  Near	 DGROUP:02A3
@@NEXT				  Near	 DGROUP:032C
@@NEXT				  Near	 DGROUP:048E
@@NEXT2				  Near	 DGROUP:04C6
@@RET				  Near	 DGROUP:04CF
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 BORDER2
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
BORDER				  Near	 DGROUP:02D9
BRD1				  Byte	 DGROUP:04D9
BRD2				  Byte	 DGROUP:04E2
BRD3				  Byte	 DGROUP:04EB
BRD4				  Byte	 DGROUP:04F4
BRD5				  Byte	 DGROUP:04FD
CBRD				  Byte	 DGROUP:04D0
CUSTOM				  Near	 DGROUP:02A8
NCBRD				  Near	 DGROUP:0128
NOT_CUSTOM			  Near	 DGROUP:02C0
NOT_SMOL_TXT			  Near	 DGROUP:0496
NOT_SMOL_TXT1			  Near	 DGROUP:0346
SMOL_TXT			  Near	 DGROUP:04B7
START				  Near	 DGROUP:0100
STRING				  Near	 DGROUP:0322
TEXT				  Near	 DGROUP:0337
ZALOOP				  Near	 DGROUP:0302

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  0506 Word	  Public  CODE
