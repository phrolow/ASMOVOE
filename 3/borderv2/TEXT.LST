Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 1
text.asm



      1	0000			     .model tiny
      2	0000			     .code
      3
      4				     locals @@
      5
      6				     org 100h
      7
      8	0100  E8 0005		     Start:  call Text
      9
     10	0103  B8 4C00			     mov ax, 4C00h
     11	0106  CD 21			     int 21h
     12
     13	0108			     Text    proc
     14
     15	0108  BE 02B2r			     mov si, offset txt
     16
     17	010B  AC			     lodsb
     18
     19	010C  32 E4			     xor ah, ah
     20
     21	010E  B2 0A			     mov dl, 10
     22
     23	0110  F6 F2			     div dl
     24
     25	0112  8A F0			     mov dh, al
     26	0114  8A D4			     mov dl, ah
     27
     28	0116  BF B800			     mov di, 0B800h
     29	0119  8E C7			     mov es, di
     30
     31	011B  BF 07D0			     mov di, 80	* 25
     32
     33	011E  8B C2			     mov ax, dx
     34	0120  32 E4			     xor ah, ah		      ;	dl в общ
     35
     36	0122  80 FE 00			     cmp dh, 0
     37	0125  75 03			     jne not_smol_txt1		  ; концептуально - сначала	идет    +
     38				     распечатка "больших" строк, а потом маленькой; ну и    +
     39				     здесь	джамп сразу к распечатке маленькой; важно не   +
     40				     проебать dl
     41
     42	0127  E9 016E			     jmp smol_txt
     43
     44	012A			     not_smol_txt1:
     45
     46	012A  83 EF 14			     sub di, word ptr 20
     47
     48	012D  8A CE			     mov cl, dh
     49	012F  32 ED			     xor ch, ch
     50
     51					     REPT 160
     52
     53					     sub di, ax
     54
     55					     ENDM
1    56
1    57	0131  2B F8			     sub di, ax
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 2
text.asm



1    58
1    59
1    60	0133  2B F8			     sub di, ax
1    61
1    62
1    63	0135  2B F8			     sub di, ax
1    64
1    65
1    66	0137  2B F8			     sub di, ax
1    67
1    68
1    69	0139  2B F8			     sub di, ax
1    70
1    71
1    72	013B  2B F8			     sub di, ax
1    73
1    74
1    75	013D  2B F8			     sub di, ax
1    76
1    77
1    78	013F  2B F8			     sub di, ax
1    79
1    80
1    81	0141  2B F8			     sub di, ax
1    82
1    83
1    84	0143  2B F8			     sub di, ax
1    85
1    86
1    87	0145  2B F8			     sub di, ax
1    88
1    89
1    90	0147  2B F8			     sub di, ax
1    91
1    92
1    93	0149  2B F8			     sub di, ax
1    94
1    95
1    96	014B  2B F8			     sub di, ax
1    97
1    98
1    99	014D  2B F8			     sub di, ax
1   100
1   101
1   102	014F  2B F8			     sub di, ax
1   103
1   104
1   105	0151  2B F8			     sub di, ax
1   106
1   107
1   108	0153  2B F8			     sub di, ax
1   109
1   110
1   111	0155  2B F8			     sub di, ax
1   112
1   113
1   114	0157  2B F8			     sub di, ax
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 3
text.asm



1   115
1   116
1   117	0159  2B F8			     sub di, ax
1   118
1   119
1   120	015B  2B F8			     sub di, ax
1   121
1   122
1   123	015D  2B F8			     sub di, ax
1   124
1   125
1   126	015F  2B F8			     sub di, ax
1   127
1   128
1   129	0161  2B F8			     sub di, ax
1   130
1   131
1   132	0163  2B F8			     sub di, ax
1   133
1   134
1   135	0165  2B F8			     sub di, ax
1   136
1   137
1   138	0167  2B F8			     sub di, ax
1   139
1   140
1   141	0169  2B F8			     sub di, ax
1   142
1   143
1   144	016B  2B F8			     sub di, ax
1   145
1   146
1   147	016D  2B F8			     sub di, ax
1   148
1   149
1   150	016F  2B F8			     sub di, ax
1   151
1   152
1   153	0171  2B F8			     sub di, ax
1   154
1   155
1   156	0173  2B F8			     sub di, ax
1   157
1   158
1   159	0175  2B F8			     sub di, ax
1   160
1   161
1   162	0177  2B F8			     sub di, ax
1   163
1   164
1   165	0179  2B F8			     sub di, ax
1   166
1   167
1   168	017B  2B F8			     sub di, ax
1   169
1   170
1   171	017D  2B F8			     sub di, ax
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 4
text.asm



1   172
1   173
1   174	017F  2B F8			     sub di, ax
1   175
1   176
1   177	0181  2B F8			     sub di, ax
1   178
1   179
1   180	0183  2B F8			     sub di, ax
1   181
1   182
1   183	0185  2B F8			     sub di, ax
1   184
1   185
1   186	0187  2B F8			     sub di, ax
1   187
1   188
1   189	0189  2B F8			     sub di, ax
1   190
1   191
1   192	018B  2B F8			     sub di, ax
1   193
1   194
1   195	018D  2B F8			     sub di, ax
1   196
1   197
1   198	018F  2B F8			     sub di, ax
1   199
1   200
1   201	0191  2B F8			     sub di, ax
1   202
1   203
1   204	0193  2B F8			     sub di, ax
1   205
1   206
1   207	0195  2B F8			     sub di, ax
1   208
1   209
1   210	0197  2B F8			     sub di, ax
1   211
1   212
1   213	0199  2B F8			     sub di, ax
1   214
1   215
1   216	019B  2B F8			     sub di, ax
1   217
1   218
1   219	019D  2B F8			     sub di, ax
1   220
1   221
1   222	019F  2B F8			     sub di, ax
1   223
1   224
1   225	01A1  2B F8			     sub di, ax
1   226
1   227
1   228	01A3  2B F8			     sub di, ax
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 5
text.asm



1   229
1   230
1   231	01A5  2B F8			     sub di, ax
1   232
1   233
1   234	01A7  2B F8			     sub di, ax
1   235
1   236
1   237	01A9  2B F8			     sub di, ax
1   238
1   239
1   240	01AB  2B F8			     sub di, ax
1   241
1   242
1   243	01AD  2B F8			     sub di, ax
1   244
1   245
1   246	01AF  2B F8			     sub di, ax
1   247
1   248
1   249	01B1  2B F8			     sub di, ax
1   250
1   251
1   252	01B3  2B F8			     sub di, ax
1   253
1   254
1   255	01B5  2B F8			     sub di, ax
1   256
1   257
1   258	01B7  2B F8			     sub di, ax
1   259
1   260
1   261	01B9  2B F8			     sub di, ax
1   262
1   263
1   264	01BB  2B F8			     sub di, ax
1   265
1   266
1   267	01BD  2B F8			     sub di, ax
1   268
1   269
1   270	01BF  2B F8			     sub di, ax
1   271
1   272
1   273	01C1  2B F8			     sub di, ax
1   274
1   275
1   276	01C3  2B F8			     sub di, ax
1   277
1   278
1   279	01C5  2B F8			     sub di, ax
1   280
1   281
1   282	01C7  2B F8			     sub di, ax
1   283
1   284
1   285	01C9  2B F8			     sub di, ax
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 6
text.asm



1   286
1   287
1   288	01CB  2B F8			     sub di, ax
1   289
1   290
1   291	01CD  2B F8			     sub di, ax
1   292
1   293
1   294	01CF  2B F8			     sub di, ax
1   295
1   296
1   297	01D1  2B F8			     sub di, ax
1   298
1   299
1   300	01D3  2B F8			     sub di, ax
1   301
1   302
1   303	01D5  2B F8			     sub di, ax
1   304
1   305
1   306	01D7  2B F8			     sub di, ax
1   307
1   308
1   309	01D9  2B F8			     sub di, ax
1   310
1   311
1   312	01DB  2B F8			     sub di, ax
1   313
1   314
1   315	01DD  2B F8			     sub di, ax
1   316
1   317
1   318	01DF  2B F8			     sub di, ax
1   319
1   320
1   321	01E1  2B F8			     sub di, ax
1   322
1   323
1   324	01E3  2B F8			     sub di, ax
1   325
1   326
1   327	01E5  2B F8			     sub di, ax
1   328
1   329
1   330	01E7  2B F8			     sub di, ax
1   331
1   332
1   333	01E9  2B F8			     sub di, ax
1   334
1   335
1   336	01EB  2B F8			     sub di, ax
1   337
1   338
1   339	01ED  2B F8			     sub di, ax
1   340
1   341
1   342	01EF  2B F8			     sub di, ax
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 7
text.asm



1   343
1   344
1   345	01F1  2B F8			     sub di, ax
1   346
1   347
1   348	01F3  2B F8			     sub di, ax
1   349
1   350
1   351	01F5  2B F8			     sub di, ax
1   352
1   353
1   354	01F7  2B F8			     sub di, ax
1   355
1   356
1   357	01F9  2B F8			     sub di, ax
1   358
1   359
1   360	01FB  2B F8			     sub di, ax
1   361
1   362
1   363	01FD  2B F8			     sub di, ax
1   364
1   365
1   366	01FF  2B F8			     sub di, ax
1   367
1   368
1   369	0201  2B F8			     sub di, ax
1   370
1   371
1   372	0203  2B F8			     sub di, ax
1   373
1   374
1   375	0205  2B F8			     sub di, ax
1   376
1   377
1   378	0207  2B F8			     sub di, ax
1   379
1   380
1   381	0209  2B F8			     sub di, ax
1   382
1   383
1   384	020B  2B F8			     sub di, ax
1   385
1   386
1   387	020D  2B F8			     sub di, ax
1   388
1   389
1   390	020F  2B F8			     sub di, ax
1   391
1   392
1   393	0211  2B F8			     sub di, ax
1   394
1   395
1   396	0213  2B F8			     sub di, ax
1   397
1   398
1   399	0215  2B F8			     sub di, ax
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 8
text.asm



1   400
1   401
1   402	0217  2B F8			     sub di, ax
1   403
1   404
1   405	0219  2B F8			     sub di, ax
1   406
1   407
1   408	021B  2B F8			     sub di, ax
1   409
1   410
1   411	021D  2B F8			     sub di, ax
1   412
1   413
1   414	021F  2B F8			     sub di, ax
1   415
1   416
1   417	0221  2B F8			     sub di, ax
1   418
1   419
1   420	0223  2B F8			     sub di, ax
1   421
1   422
1   423	0225  2B F8			     sub di, ax
1   424
1   425
1   426	0227  2B F8			     sub di, ax
1   427
1   428
1   429	0229  2B F8			     sub di, ax
1   430
1   431
1   432	022B  2B F8			     sub di, ax
1   433
1   434
1   435	022D  2B F8			     sub di, ax
1   436
1   437
1   438	022F  2B F8			     sub di, ax
1   439
1   440
1   441	0231  2B F8			     sub di, ax
1   442
1   443
1   444	0233  2B F8			     sub di, ax
1   445
1   446
1   447	0235  2B F8			     sub di, ax
1   448
1   449
1   450	0237  2B F8			     sub di, ax
1   451
1   452
1   453	0239  2B F8			     sub di, ax
1   454
1   455
1   456	023B  2B F8			     sub di, ax
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 9
text.asm



1   457
1   458
1   459	023D  2B F8			     sub di, ax
1   460
1   461
1   462	023F  2B F8			     sub di, ax
1   463
1   464
1   465	0241  2B F8			     sub di, ax
1   466
1   467
1   468	0243  2B F8			     sub di, ax
1   469
1   470
1   471	0245  2B F8			     sub di, ax
1   472
1   473
1   474	0247  2B F8			     sub di, ax
1   475
1   476
1   477	0249  2B F8			     sub di, ax
1   478
1   479
1   480	024B  2B F8			     sub di, ax
1   481
1   482
1   483	024D  2B F8			     sub di, ax
1   484
1   485
1   486	024F  2B F8			     sub di, ax
1   487
1   488
1   489	0251  2B F8			     sub di, ax
1   490
1   491
1   492	0253  2B F8			     sub di, ax
1   493
1   494
1   495	0255  2B F8			     sub di, ax
1   496
1   497
1   498	0257  2B F8			     sub di, ax
1   499
1   500
1   501	0259  2B F8			     sub di, ax
1   502
1   503
1   504	025B  2B F8			     sub di, ax
1   505
1   506
1   507	025D  2B F8			     sub di, ax
1   508
1   509
1   510	025F  2B F8			     sub di, ax
1   511
1   512
1   513	0261  2B F8			     sub di, ax
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 10
text.asm



1   514
1   515
1   516	0263  2B F8			     sub di, ax
1   517
1   518
1   519	0265  2B F8			     sub di, ax
1   520
1   521
1   522	0267  2B F8			     sub di, ax
1   523
1   524
1   525	0269  2B F8			     sub di, ax
1   526
1   527
1   528	026B  2B F8			     sub di, ax
1   529
1   530
1   531	026D  2B F8			     sub di, ax
1   532
1   533
1   534	026F  2B F8			     sub di, ax
1   535
    536
    537	0271  46			     inc si
    538
    539	0272			     @@Next:
    540	0272  80 F9 00			     cmp cl, 0
    541	0275  75 03			     jne not_smol_txt
    542
    543	0277  EB 1F 90			     jmp smol_txt
    544
    545	027A			     not_smol_txt:
    546
    547	027A  B4 1E			     mov ah, 1Eh
    548
    549					     REPT 10
    550
    551					     lodsb
    552					     stosw
    553
    554					     ENDM
1   555
1   556	027C  AC			     lodsb
1   557	027D  AB			     stosw
1   558
1   559
1   560	027E  AC			     lodsb
1   561	027F  AB			     stosw
1   562
1   563
1   564	0280  AC			     lodsb
1   565	0281  AB			     stosw
1   566
1   567
1   568	0282  AC			     lodsb
1   569	0283  AB			     stosw
1   570
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 11
text.asm



1   571
1   572	0284  AC			     lodsb
1   573	0285  AB			     stosw
1   574
1   575
1   576	0286  AC			     lodsb
1   577	0287  AB			     stosw
1   578
1   579
1   580	0288  AC			     lodsb
1   581	0289  AB			     stosw
1   582
1   583
1   584	028A  AC			     lodsb
1   585	028B  AB			     stosw
1   586
1   587
1   588	028C  AC			     lodsb
1   589	028D  AB			     stosw
1   590
1   591
1   592	028E  AC			     lodsb
1   593	028F  AB			     stosw
1   594
    595
    596	0290  FE C9			     dec cl
    597	0292  81 C7 008C		     add di, (80 - 10) * 2
    598
    599	0296  EB DA			     jmp @@Next
    600
    601	0298			     smol_txt:
    602	0298  83 C7 0A			     add di, 10
    603
    604	029B  8A C2			     mov al, dl
    605	029D  32 E4			     xor ah, ah
    606
    607	029F  2B F8			     sub di, ax
    608
    609	02A1  8B CA			     mov cx, dx
    610	02A3  32 ED			     xor ch, ch
    611	02A5  83 E9 01			     sub cx, 1			     ; fix
    612
    613	02A8  B4 1E			     mov ah, 1Eh
    614
    615	02AA  83 E7 FE			     and di, 0FFFEh		     ; need even di
    616
    617	02AD			     @@Next2:
    618
    619	02AD  AC			     lodsb
    620	02AE  AB			     stosw
    621
    622	02AF  E2 FC			     loop @@Next2
    623
    624	02B1  C3			     ret
    625	02B2				     endp
    626
    627	02B2  34 20 47 6F 76 6E	6F+  txt     db	52, 20h, 'Govnozalupapenisherdavalkahuyblyadinasukayeblanishe'
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 12
text.asm



    628	      7A 61 6C 75 70 61	70+
    629	      65 6E 69 73 68 65	72+
    630	      64 61 76 61 6C 6B	61+
    631	      68 75 79 62 6C 79	61+
    632	      64 69 6E 61 73 75	6B+
    633	      61 79 65 62 6C 61	6E+
    634	      69 73 68 65
    635
    636				     end     Start
Turbo Assembler	 Version 4.1	    02/26/23 17:37:47	    Page 13
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "02/26/23"
??FILENAME			  Text	 "text	  "
??TIME				  Text	 "17:37:47"
??VERSION			  Number 040A
@32BIT				  Text	 0
@@NEXT				  Near	 DGROUP:0272
@@NEXT2				  Near	 DGROUP:02AD
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0101H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 TEXT
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
NOT_SMOL_TXT			  Near	 DGROUP:027A
NOT_SMOL_TXT1			  Near	 DGROUP:012A
SMOL_TXT			  Near	 DGROUP:0298
START				  Near	 DGROUP:0100
TEXT				  Near	 DGROUP:0108
TXT				  Byte	 DGROUP:02B2

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  02E7 Word	  Public  CODE
