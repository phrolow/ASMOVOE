Turbo Assembler	 Version 4.1	    03/03/23 04:04:22	    Page 1
vzlomzho.asm



      1				     ; task was	to set a resident into program
      2
      3				     .286
      4	0000			     .model tiny
      5	0000			     .code
      6				     org 100h
      7				     locals @@
      8
      9	0100  EB 1E 90		     Start:	     jmp EOP
     10
     11	0103			     New09	     proc
     12
     13	0103  50 53 06				     push ax bx	es
     14
     15	0106  BB B800				     mov bx, 0B800h
     16	0109  8E C3				     mov es, bx
     17	010B  BB 07D0				     mov bx, 80	* 25
     18
     19	010E  26: C7 07	1E41			     mov es:[bx], 1E41h
     20
     21	0113  B0 20				     mov al, 20h
     22	0115  E6 20				     out 20h, al
     23
     24	0117  07 5B 58				     pop es bx ax
     25
     26	011A  EA				     db	0EAh
     27
     28	011B  0000		     Old09Ofs	     dw	0
     29	011D  0000		     Old09Seg	     dw	0
     30
     31	011F  CF				     iret
     32	0120					     endp
     33
     34	0120  FA		     EOP:	     cli
     35
     36	0121  33 DB				     xor bx, bx
     37	0123  8E C3				     mov es, bx
     38	0125  BB 0024				     mov bx, 4 * 9			     ; to int table
     39
     40	0128  26: 8B 07				     mov ax, es:[bx]
     41	012B  A3 011Br				     mov Old09Ofs, ax
     42	012E  26: C7 07	0103r			     mov es:[bx], offset New09
     43
     44	0133  83 C3 02				     add bx, 2
     45
     46	0136  26: 8B 07				     mov ax, es:[bx]
     47	0139  A3 011Dr				     mov Old09Seg, ax
     48	013C  8C C8				     mov ax, cs
     49	013E  26: 89 07				     mov es:[bx], ax
     50
     51	0141  FB				     sti
     52
     53						     ;jmp New09
     54
     55	0142  B8 3100				     mov ax, 3100h
     56	0145  BA 0120r				     mov dx, offset EOP
     57	0148  C1 EA 04				     shr dx, 4
Turbo Assembler	 Version 4.1	    03/03/23 04:04:22	    Page 2
vzlomzho.asm



     58	014B  42				     inc dx
     59	014C  CD 21				     int 21h
     60
     61				     end	     Start
Turbo Assembler	 Version 4.1	    03/03/23 04:04:22	    Page 3
Symbol Table




Symbol Name			  Type	 Value

??DATE				  Text	 "03/03/23"
??FILENAME			  Text	 "vzlomzho"
??TIME				  Text	 "04:04:22"
??VERSION			  Number 040A
@32BIT				  Text	 0
@CODE				  Text	 DGROUP
@CODESIZE			  Text	 0
@CPU				  Text	 0707H
@CURSEG				  Text	 _TEXT
@DATA				  Text	 DGROUP
@DATASIZE			  Text	 0
@FILENAME			  Text	 VZLOMZHO
@INTERFACE			  Text	 000H
@MODEL				  Text	 1
@STACK				  Text	 DGROUP
@WORDSIZE			  Text	 2
EOP				  Near	 DGROUP:0120
NEW09				  Near	 DGROUP:0103
OLD09OFS			  Word	 DGROUP:011B
OLD09SEG			  Word	 DGROUP:011D
START				  Near	 DGROUP:0100

Groups & Segments		  Bit Size Align  Combine Class

DGROUP				  Group
  _DATA				  16  0000 Word	  Public  DATA
  _TEXT				  16  014E Word	  Public  CODE
